<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Tools Hub - Login/Signup</title>
  <link rel="icon" href="cute-robot-logo-2c42937a-c1fe-493a-b639-d22a0b5f4671.png" type="image/png">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="wrapper">
    <div class="auth-card">
      <div class="brand">
        <img src="cute-robot-logo-2c42937a-c1fe-493a-b639-d22a0b5f4671.png" alt="AI Tools Hub">
        <h1>AI Tools Hub</h1>
        <p>Discover & Access 130+ AI tools ‚Äî All in one place</p>
      </div>

      <!-- LOGIN FORM -->
      <form id="login-form" class="active form">
        <h2>Welcome User üëã</h2>
        <div class="input-group">
          <label>Email</label>
          <input type="email" id="login-email" placeholder="Enter your email" required>
        </div>
        <div class="input-group">
          <label>Password</label>
          <div class="password-wrapper">
            <input type="password" id="login-password" placeholder="Enter your password" required>
            <span class="toggle-password">üëÅÔ∏è</span>
          </div>
        </div>
        <button type="submit">Login</button>
        <p class="switch">New here? <a id="show-signup">Create Account</a></p>
      </form>

      <!-- SIGNUP FORM -->
      <form id="signup-form" class="form">
        <h2>Create Account üöÄ</h2>
        <div class="input-group">
          <label>Email</label>
          <input type="email" id="signup-email" placeholder="Enter your email" required>
        </div>
        <div class="input-group">
          <label>Password</label>
          <div class="password-wrapper">
            <input type="password" id="signup-password" placeholder="Create password" required>
            <span class="toggle-password">üëÅÔ∏è</span>
          </div>
        </div>
        <div class="input-group">
          <label>Confirm Password</label>
          <input type="password" id="signup-password2" placeholder="Confirm password" required>
        </div>
        <button type="submit">Sign Up</button>
        <p class="switch">Already have an account? <a id="show-login">Login</a></p>
      </form>
    </div>
  </div>

  <script>
    // Admin credentials
    const ADMIN_EMAIL = "ramesh@gmail.com";
    const ADMIN_PASSWORD = "RAMESH123@";

    // Toggle password visibility
    document.querySelectorAll(".toggle-password").forEach(toggle => {
      toggle.addEventListener("click", () => {
        const input = toggle.previousElementSibling;
        input.type = input.type === "password" ? "text" : "password";
      });
    });

    // Form switching
    const loginForm = document.getElementById("login-form");
    const signupForm = document.getElementById("signup-form");
    document.getElementById("show-signup").onclick = () => {
      loginForm.classList.remove("active");
      signupForm.classList.add("active");
    };
    document.getElementById("show-login").onclick = () => {
      signupForm.classList.remove("active");
      loginForm.classList.add("active");
    };

    // LocalStorage handling
    function saveUser(email, password) {
      let users = JSON.parse(localStorage.getItem("users")) || [];
      if (users.some(u => u.email.toLowerCase() === email.toLowerCase())) return false;
      users.push({ email, password });
      localStorage.setItem("users", JSON.stringify(users));
      return true;
    }

    function validateUser(email, password) {
      let users = JSON.parse(localStorage.getItem("users")) || [];
      return users.find(u => u.email.toLowerCase() === email.toLowerCase() && u.password === password);
    }

    // Signup
    signupForm.addEventListener("submit", e => {
      e.preventDefault();
      const email = document.getElementById("signup-email").value.trim();
      const pass = document.getElementById("signup-password").value.trim();
      const pass2 = document.getElementById("signup-password2").value.trim();

      if (pass.length < 6) return alert("Password must be at least 6 characters");
      if (pass !== pass2) return alert("Passwords do not match");

      if (saveUser(email, pass)) {
        alert("Signup successful! Please login.");
        signupForm.reset();
        signupForm.classList.remove("active");
        loginForm.classList.add("active");
      } else alert("User already exists!");
    });

    // Login
    loginForm.addEventListener("submit", e => {
      e.preventDefault();
      const email = document.getElementById("login-email").value.trim();
      const pass = document.getElementById("login-password").value.trim();

      if (email === ADMIN_EMAIL && pass === ADMIN_PASSWORD) {
        localStorage.setItem("loggedInUser", email);
        window.location.href = "admin.html";
        return;
      }

      if (validateUser(email, pass)) {
        localStorage.setItem("loggedInUser", email);
        window.location.href = "tools.html";
      } else alert("Invalid email or password");
    });
  </script>
</body>
</html>
